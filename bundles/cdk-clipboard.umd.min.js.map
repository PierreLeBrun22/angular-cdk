{"version":3,"sources":["src\\cdk\\cdk-clipboard.umd.js"],"names":["global","factory","exports","module","require","define","amd","self","ng","cdk","clipboard","common","core","this","i1","i0","PendingCopy","text","_document","textarea","_textarea","createElement","styles","style","position","top","opacity","left","setAttribute","value","body","appendChild","prototype","copy","successful","currentFocus","activeElement","select","setSelectionRange","length","execCommand","focus","_a","destroy","parentNode","removeChild","undefined","Clipboard","document","pendingCopy","beginCopy","ɵprov","ɵɵdefineInjectable","Clipboard_Factory","ɵɵinject","DOCUMENT","token","providedIn","decorators","type","Injectable","args","ctorParameters","Inject","ClipboardModule","CDK_COPY_TO_CLIPBOARD_CONFIG","InjectionToken","CKD_COPY_TO_CLIPBOARD_CONFIG","CdkCopyToClipboard","_clipboard","_ngZone","config","attempts","copied","EventEmitter","_pending","Set","_this","remainingAttempts_1","pending_1","add","attempt_1","_destroyed","_currentTimeout","delete","emit","runOutsideAngular","setTimeout","ngOnDestroy","clearTimeout","forEach","clear","Directive","selector","host","(click)","NgZone","Optional","propDecorators","Input","Output","NgModule","declarations","Object","defineProperty"],"mappings":"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","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/common'), require('@angular/core')) :\n    typeof define === 'function' && define.amd ? define('@angular/cdk/clipboard', ['exports', '@angular/common', '@angular/core'], factory) :\n    (global = global || self, factory((global.ng = global.ng || {}, global.ng.cdk = global.ng.cdk || {}, global.ng.cdk.clipboard = {}), global.ng.common, global.ng.core));\n}(this, (function (exports, i1, i0) { 'use strict';\n\n    /**\r\n     * @license\r\n     * Copyright Google LLC All Rights Reserved.\r\n     *\r\n     * Use of this source code is governed by an MIT-style license that can be\r\n     * found in the LICENSE file at https://angular.io/license\r\n     */\r\n    /**\r\n     * A pending copy-to-clipboard operation.\r\n     *\r\n     * The implementation of copying text to the clipboard modifies the DOM and\r\n     * forces a relayout. This relayout can take too long if the string is large,\r\n     * causing the execCommand('copy') to happen too long after the user clicked.\r\n     * This results in the browser refusing to copy. This object lets the\r\n     * relayout happen in a separate tick from copying by providing a copy function\r\n     * that can be called later.\r\n     *\r\n     * Destroy must be called when no longer in use, regardless of whether `copy` is\r\n     * called.\r\n     */\r\n    var PendingCopy = /** @class */ (function () {\r\n        function PendingCopy(text, _document) {\r\n            this._document = _document;\r\n            var textarea = this._textarea = this._document.createElement('textarea');\r\n            var styles = textarea.style;\r\n            // Hide the element for display and accessibility. Set a fixed position so the page layout\r\n            // isn't affected. We use `fixed` with `top: 0`, because focus is moved into the textarea\r\n            // for a split second and if it's off-screen, some browsers will attempt to scroll it into view.\r\n            styles.position = 'fixed';\r\n            styles.top = styles.opacity = '0';\r\n            styles.left = '-999em';\r\n            textarea.setAttribute('aria-hidden', 'true');\r\n            textarea.value = text;\r\n            this._document.body.appendChild(textarea);\r\n        }\r\n        /** Finishes copying the text. */\r\n        PendingCopy.prototype.copy = function () {\r\n            var textarea = this._textarea;\r\n            var successful = false;\r\n            try { // Older browsers could throw if copy is not supported.\r\n                if (textarea) {\r\n                    var currentFocus = this._document.activeElement;\r\n                    textarea.select();\r\n                    textarea.setSelectionRange(0, textarea.value.length);\r\n                    successful = this._document.execCommand('copy');\r\n                    if (currentFocus) {\r\n                        currentFocus.focus();\r\n                    }\r\n                }\r\n            }\r\n            catch (_a) {\r\n                // Discard error.\r\n                // Initial setting of {@code successful} will represent failure here.\r\n            }\r\n            return successful;\r\n        };\r\n        /** Cleans up DOM changes used to perform the copy operation. */\r\n        PendingCopy.prototype.destroy = function () {\r\n            var textarea = this._textarea;\r\n            if (textarea) {\r\n                if (textarea.parentNode) {\r\n                    textarea.parentNode.removeChild(textarea);\r\n                }\r\n                this._textarea = undefined;\r\n            }\r\n        };\r\n        return PendingCopy;\r\n    }());\n\n    /**\r\n     * @license\r\n     * Copyright Google LLC All Rights Reserved.\r\n     *\r\n     * Use of this source code is governed by an MIT-style license that can be\r\n     * found in the LICENSE file at https://angular.io/license\r\n     */\r\n    /**\r\n     * A service for copying text to the clipboard.\r\n     */\r\n    var Clipboard = /** @class */ (function () {\r\n        function Clipboard(document) {\r\n            this._document = document;\r\n        }\r\n        /**\r\n         * Copies the provided text into the user's clipboard.\r\n         *\r\n         * @param text The string to copy.\r\n         * @returns Whether the operation was successful.\r\n         */\r\n        Clipboard.prototype.copy = function (text) {\r\n            var pendingCopy = this.beginCopy(text);\r\n            var successful = pendingCopy.copy();\r\n            pendingCopy.destroy();\r\n            return successful;\r\n        };\r\n        /**\r\n         * Prepares a string to be copied later. This is useful for large strings\r\n         * which take too long to successfully render and be copied in the same tick.\r\n         *\r\n         * The caller must call `destroy` on the returned `PendingCopy`.\r\n         *\r\n         * @param text The string to copy.\r\n         * @returns the pending copy operation.\r\n         */\r\n        Clipboard.prototype.beginCopy = function (text) {\r\n            return new PendingCopy(text, this._document);\r\n        };\r\n        return Clipboard;\r\n    }());\r\n    Clipboard.ɵprov = i0.ɵɵdefineInjectable({ factory: function Clipboard_Factory() { return new Clipboard(i0.ɵɵinject(i1.DOCUMENT)); }, token: Clipboard, providedIn: \"root\" });\r\n    Clipboard.decorators = [\r\n        { type: i0.Injectable, args: [{ providedIn: 'root' },] }\r\n    ];\r\n    Clipboard.ctorParameters = function () { return [\r\n        { type: undefined, decorators: [{ type: i0.Inject, args: [i1.DOCUMENT,] }] }\r\n    ]; };\n\n    /**\r\n     * @license\r\n     * Copyright Google LLC All Rights Reserved.\r\n     *\r\n     * Use of this source code is governed by an MIT-style license that can be\r\n     * found in the LICENSE file at https://angular.io/license\r\n     */\r\n    /** Injection token that can be used to provide the default options to `CdkCopyToClipboard`. */\r\n    var CDK_COPY_TO_CLIPBOARD_CONFIG = new i0.InjectionToken('CDK_COPY_TO_CLIPBOARD_CONFIG');\r\n    /**\r\n     * @deprecated Use `CDK_COPY_TO_CLIPBOARD_CONFIG` instead.\r\n     * @breaking-change 13.0.0\r\n     */\r\n    var CKD_COPY_TO_CLIPBOARD_CONFIG = CDK_COPY_TO_CLIPBOARD_CONFIG;\r\n    /**\r\n     * Provides behavior for a button that when clicked copies content into user's\r\n     * clipboard.\r\n     */\r\n    var CdkCopyToClipboard = /** @class */ (function () {\r\n        function CdkCopyToClipboard(_clipboard, _ngZone, config) {\r\n            this._clipboard = _clipboard;\r\n            this._ngZone = _ngZone;\r\n            /** Content to be copied. */\r\n            this.text = '';\r\n            /**\r\n             * How many times to attempt to copy the text. This may be necessary for longer text, because\r\n             * the browser needs time to fill an intermediate textarea element and copy the content.\r\n             */\r\n            this.attempts = 1;\r\n            /**\r\n             * Emits when some text is copied to the clipboard. The\r\n             * emitted value indicates whether copying was successful.\r\n             */\r\n            this.copied = new i0.EventEmitter();\r\n            /** Copies that are currently being attempted. */\r\n            this._pending = new Set();\r\n            if (config && config.attempts != null) {\r\n                this.attempts = config.attempts;\r\n            }\r\n        }\r\n        /** Copies the current text to the clipboard. */\r\n        CdkCopyToClipboard.prototype.copy = function (attempts) {\r\n            var _this = this;\r\n            if (attempts === void 0) { attempts = this.attempts; }\r\n            if (attempts > 1) {\r\n                var remainingAttempts_1 = attempts;\r\n                var pending_1 = this._clipboard.beginCopy(this.text);\r\n                this._pending.add(pending_1);\r\n                var attempt_1 = function () {\r\n                    var successful = pending_1.copy();\r\n                    if (!successful && --remainingAttempts_1 && !_this._destroyed) {\r\n                        // We use 1 for the timeout since it's more predictable when flushing in unit tests.\r\n                        _this._currentTimeout = _this._ngZone.runOutsideAngular(function () { return setTimeout(attempt_1, 1); });\r\n                    }\r\n                    else {\r\n                        _this._currentTimeout = null;\r\n                        _this._pending.delete(pending_1);\r\n                        pending_1.destroy();\r\n                        _this.copied.emit(successful);\r\n                    }\r\n                };\r\n                attempt_1();\r\n            }\r\n            else {\r\n                this.copied.emit(this._clipboard.copy(this.text));\r\n            }\r\n        };\r\n        CdkCopyToClipboard.prototype.ngOnDestroy = function () {\r\n            if (this._currentTimeout) {\r\n                clearTimeout(this._currentTimeout);\r\n            }\r\n            this._pending.forEach(function (copy) { return copy.destroy(); });\r\n            this._pending.clear();\r\n            this._destroyed = true;\r\n        };\r\n        return CdkCopyToClipboard;\r\n    }());\r\n    CdkCopyToClipboard.decorators = [\r\n        { type: i0.Directive, args: [{\r\n                    selector: '[cdkCopyToClipboard]',\r\n                    host: {\r\n                        '(click)': 'copy()',\r\n                    }\r\n                },] }\r\n    ];\r\n    CdkCopyToClipboard.ctorParameters = function () { return [\r\n        { type: Clipboard },\r\n        { type: i0.NgZone },\r\n        { type: undefined, decorators: [{ type: i0.Optional }, { type: i0.Inject, args: [CKD_COPY_TO_CLIPBOARD_CONFIG,] }] }\r\n    ]; };\r\n    CdkCopyToClipboard.propDecorators = {\r\n        text: [{ type: i0.Input, args: ['cdkCopyToClipboard',] }],\r\n        attempts: [{ type: i0.Input, args: ['cdkCopyToClipboardAttempts',] }],\r\n        copied: [{ type: i0.Output, args: ['cdkCopyToClipboardCopied',] }]\r\n    };\n\n    /**\r\n     * @license\r\n     * Copyright Google LLC All Rights Reserved.\r\n     *\r\n     * Use of this source code is governed by an MIT-style license that can be\r\n     * found in the LICENSE file at https://angular.io/license\r\n     */\r\n    var ClipboardModule = /** @class */ (function () {\r\n        function ClipboardModule() {\r\n        }\r\n        return ClipboardModule;\r\n    }());\r\n    ClipboardModule.decorators = [\r\n        { type: i0.NgModule, args: [{\r\n                    declarations: [CdkCopyToClipboard],\r\n                    exports: [CdkCopyToClipboard],\r\n                },] }\r\n    ];\n\n    /**\r\n     * @license\r\n     * Copyright Google LLC All Rights Reserved.\r\n     *\r\n     * Use of this source code is governed by an MIT-style license that can be\r\n     * found in the LICENSE file at https://angular.io/license\r\n     */\n\n    /**\r\n     * Generated bundle index. Do not edit.\r\n     */\n\n    exports.CDK_COPY_TO_CLIPBOARD_CONFIG = CDK_COPY_TO_CLIPBOARD_CONFIG;\n    exports.CKD_COPY_TO_CLIPBOARD_CONFIG = CKD_COPY_TO_CLIPBOARD_CONFIG;\n    exports.CdkCopyToClipboard = CdkCopyToClipboard;\n    exports.Clipboard = Clipboard;\n    exports.ClipboardModule = ClipboardModule;\n    exports.PendingCopy = PendingCopy;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=cdk-clipboard.umd.js.map\n"]}