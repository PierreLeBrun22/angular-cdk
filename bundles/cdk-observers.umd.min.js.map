{"version":3,"sources":["src\\cdk\\cdk-observers.umd.js"],"names":["global","factory","exports","module","require","define","amd","self","ng","cdk","observers","coercion","core","rxjs","operators","this","i0","MutationObserverFactory","prototype","create","callback","MutationObserver","ɵprov","ɵɵdefineInjectable","MutationObserverFactory_Factory","token","providedIn","decorators","type","Injectable","args","ContentObserver","_mutationObserverFactory","_observedElements","Map","ngOnDestroy","_this","forEach","_","element","_cleanupObserver","observe","elementOrRef","coerceElement","Observable","observer","subscription","_observeElement","subscribe","unsubscribe","_unobserveElement","has","get","count","stream_1","Subject","mutations","next","characterData","childList","subtree","set","stream","_b","disconnect","complete","delete","ContentObserver_Factory","ɵɵinject","ctorParameters","ObserversModule","CdkObserveContent","_contentObserver","_elementRef","_ngZone","event","EventEmitter","_disabled","_currentSubscription","Object","defineProperty","value","coerceBooleanProperty","_unsubscribe","_subscribe","enumerable","configurable","_debounce","coerceNumberProperty","ngAfterContentInit","disabled","runOutsideAngular","debounce","pipe","debounceTime","_a","Directive","selector","exportAs","ElementRef","NgZone","propDecorators","Output","Input","NgModule","declarations","providers"],"mappings":"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","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/cdk/coercion'), require('@angular/core'), require('rxjs'), require('rxjs/operators')) :\n    typeof define === 'function' && define.amd ? define('@angular/cdk/observers', ['exports', '@angular/cdk/coercion', '@angular/core', 'rxjs', 'rxjs/operators'], factory) :\n    (global = global || self, factory((global.ng = global.ng || {}, global.ng.cdk = global.ng.cdk || {}, global.ng.cdk.observers = {}), global.ng.cdk.coercion, global.ng.core, global.rxjs, global.rxjs.operators));\n}(this, (function (exports, coercion, i0, rxjs, operators) { 'use strict';\n\n    /**\r\n     * @license\r\n     * Copyright Google LLC All Rights Reserved.\r\n     *\r\n     * Use of this source code is governed by an MIT-style license that can be\r\n     * found in the LICENSE file at https://angular.io/license\r\n     */\r\n    /**\r\n     * Factory that creates a new MutationObserver and allows us to stub it out in unit tests.\r\n     * @docs-private\r\n     */\r\n    var MutationObserverFactory = /** @class */ (function () {\r\n        function MutationObserverFactory() {\r\n        }\r\n        MutationObserverFactory.prototype.create = function (callback) {\r\n            return typeof MutationObserver === 'undefined' ? null : new MutationObserver(callback);\r\n        };\r\n        return MutationObserverFactory;\r\n    }());\r\n    MutationObserverFactory.ɵprov = i0.ɵɵdefineInjectable({ factory: function MutationObserverFactory_Factory() { return new MutationObserverFactory(); }, token: MutationObserverFactory, providedIn: \"root\" });\r\n    MutationObserverFactory.decorators = [\r\n        { type: i0.Injectable, args: [{ providedIn: 'root' },] }\r\n    ];\r\n    /** An injectable service that allows watching elements for changes to their content. */\r\n    var ContentObserver = /** @class */ (function () {\r\n        function ContentObserver(_mutationObserverFactory) {\r\n            this._mutationObserverFactory = _mutationObserverFactory;\r\n            /** Keeps track of the existing MutationObservers so they can be reused. */\r\n            this._observedElements = new Map();\r\n        }\r\n        ContentObserver.prototype.ngOnDestroy = function () {\r\n            var _this = this;\r\n            this._observedElements.forEach(function (_, element) { return _this._cleanupObserver(element); });\r\n        };\r\n        ContentObserver.prototype.observe = function (elementOrRef) {\r\n            var _this = this;\r\n            var element = coercion.coerceElement(elementOrRef);\r\n            return new rxjs.Observable(function (observer) {\r\n                var stream = _this._observeElement(element);\r\n                var subscription = stream.subscribe(observer);\r\n                return function () {\r\n                    subscription.unsubscribe();\r\n                    _this._unobserveElement(element);\r\n                };\r\n            });\r\n        };\r\n        /**\r\n         * Observes the given element by using the existing MutationObserver if available, or creating a\r\n         * new one if not.\r\n         */\r\n        ContentObserver.prototype._observeElement = function (element) {\r\n            if (!this._observedElements.has(element)) {\r\n                var stream_1 = new rxjs.Subject();\r\n                var observer = this._mutationObserverFactory.create(function (mutations) { return stream_1.next(mutations); });\r\n                if (observer) {\r\n                    observer.observe(element, {\r\n                        characterData: true,\r\n                        childList: true,\r\n                        subtree: true\r\n                    });\r\n                }\r\n                this._observedElements.set(element, { observer: observer, stream: stream_1, count: 1 });\r\n            }\r\n            else {\r\n                this._observedElements.get(element).count++;\r\n            }\r\n            return this._observedElements.get(element).stream;\r\n        };\r\n        /**\r\n         * Un-observes the given element and cleans up the underlying MutationObserver if nobody else is\r\n         * observing this element.\r\n         */\r\n        ContentObserver.prototype._unobserveElement = function (element) {\r\n            if (this._observedElements.has(element)) {\r\n                this._observedElements.get(element).count--;\r\n                if (!this._observedElements.get(element).count) {\r\n                    this._cleanupObserver(element);\r\n                }\r\n            }\r\n        };\r\n        /** Clean up the underlying MutationObserver for the specified element. */\r\n        ContentObserver.prototype._cleanupObserver = function (element) {\r\n            if (this._observedElements.has(element)) {\r\n                var _b = this._observedElements.get(element), observer = _b.observer, stream = _b.stream;\r\n                if (observer) {\r\n                    observer.disconnect();\r\n                }\r\n                stream.complete();\r\n                this._observedElements.delete(element);\r\n            }\r\n        };\r\n        return ContentObserver;\r\n    }());\r\n    ContentObserver.ɵprov = i0.ɵɵdefineInjectable({ factory: function ContentObserver_Factory() { return new ContentObserver(i0.ɵɵinject(MutationObserverFactory)); }, token: ContentObserver, providedIn: \"root\" });\r\n    ContentObserver.decorators = [\r\n        { type: i0.Injectable, args: [{ providedIn: 'root' },] }\r\n    ];\r\n    ContentObserver.ctorParameters = function () { return [\r\n        { type: MutationObserverFactory }\r\n    ]; };\r\n    /**\r\n     * Directive that triggers a callback whenever the content of\r\n     * its associated element has changed.\r\n     */\r\n    var CdkObserveContent = /** @class */ (function () {\r\n        function CdkObserveContent(_contentObserver, _elementRef, _ngZone) {\r\n            this._contentObserver = _contentObserver;\r\n            this._elementRef = _elementRef;\r\n            this._ngZone = _ngZone;\r\n            /** Event emitted for each change in the element's content. */\r\n            this.event = new i0.EventEmitter();\r\n            this._disabled = false;\r\n            this._currentSubscription = null;\r\n        }\r\n        Object.defineProperty(CdkObserveContent.prototype, \"disabled\", {\r\n            /**\r\n             * Whether observing content is disabled. This option can be used\r\n             * to disconnect the underlying MutationObserver until it is needed.\r\n             */\r\n            get: function () { return this._disabled; },\r\n            set: function (value) {\r\n                this._disabled = coercion.coerceBooleanProperty(value);\r\n                this._disabled ? this._unsubscribe() : this._subscribe();\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(CdkObserveContent.prototype, \"debounce\", {\r\n            /** Debounce interval for emitting the changes. */\r\n            get: function () { return this._debounce; },\r\n            set: function (value) {\r\n                this._debounce = coercion.coerceNumberProperty(value);\r\n                this._subscribe();\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        CdkObserveContent.prototype.ngAfterContentInit = function () {\r\n            if (!this._currentSubscription && !this.disabled) {\r\n                this._subscribe();\r\n            }\r\n        };\r\n        CdkObserveContent.prototype.ngOnDestroy = function () {\r\n            this._unsubscribe();\r\n        };\r\n        CdkObserveContent.prototype._subscribe = function () {\r\n            var _this = this;\r\n            this._unsubscribe();\r\n            var stream = this._contentObserver.observe(this._elementRef);\r\n            // TODO(mmalerba): We shouldn't be emitting on this @Output() outside the zone.\r\n            // Consider brining it back inside the zone next time we're making breaking changes.\r\n            // Bringing it back inside can cause things like infinite change detection loops and changed\r\n            // after checked errors if people's code isn't handling it properly.\r\n            this._ngZone.runOutsideAngular(function () {\r\n                _this._currentSubscription =\r\n                    (_this.debounce ? stream.pipe(operators.debounceTime(_this.debounce)) : stream).subscribe(_this.event);\r\n            });\r\n        };\r\n        CdkObserveContent.prototype._unsubscribe = function () {\r\n            var _a;\r\n            (_a = this._currentSubscription) === null || _a === void 0 ? void 0 : _a.unsubscribe();\r\n        };\r\n        return CdkObserveContent;\r\n    }());\r\n    CdkObserveContent.decorators = [\r\n        { type: i0.Directive, args: [{\r\n                    selector: '[cdkObserveContent]',\r\n                    exportAs: 'cdkObserveContent',\r\n                },] }\r\n    ];\r\n    CdkObserveContent.ctorParameters = function () { return [\r\n        { type: ContentObserver },\r\n        { type: i0.ElementRef },\r\n        { type: i0.NgZone }\r\n    ]; };\r\n    CdkObserveContent.propDecorators = {\r\n        event: [{ type: i0.Output, args: ['cdkObserveContent',] }],\r\n        disabled: [{ type: i0.Input, args: ['cdkObserveContentDisabled',] }],\r\n        debounce: [{ type: i0.Input }]\r\n    };\r\n    var ObserversModule = /** @class */ (function () {\r\n        function ObserversModule() {\r\n        }\r\n        return ObserversModule;\r\n    }());\r\n    ObserversModule.decorators = [\r\n        { type: i0.NgModule, args: [{\r\n                    exports: [CdkObserveContent],\r\n                    declarations: [CdkObserveContent],\r\n                    providers: [MutationObserverFactory]\r\n                },] }\r\n    ];\n\n    /**\r\n     * @license\r\n     * Copyright Google LLC All Rights Reserved.\r\n     *\r\n     * Use of this source code is governed by an MIT-style license that can be\r\n     * found in the LICENSE file at https://angular.io/license\r\n     */\n\n    /**\r\n     * Generated bundle index. Do not edit.\r\n     */\n\n    exports.CdkObserveContent = CdkObserveContent;\n    exports.ContentObserver = ContentObserver;\n    exports.MutationObserverFactory = MutationObserverFactory;\n    exports.ObserversModule = ObserversModule;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=cdk-observers.umd.js.map\n"]}